{% load static %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Your Orders</title>
    <!-- Add Bootstrap CSS CDN for Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbs5mQHAaE5K3uMuFzL/G2xFIqICtqgqGcsl8s0C+AFv5COb9tQ8ba3hpeXW2fXJ" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'user/assets/css/main.css'%}">
</head>
<body>

<div class="container mt-4">

    <div class="tab-pane fade show active" id="orders" role="tabpanel" aria-labelledby="orders-tab">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">Your Orders</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Order</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Total</th>
                                <th>Actions</th>
                                

                                {% for order in orders %}
                                <tr>
                                    <td>{{ order.order_number }}</td>
                                    <td>{{ order.created_at|date:"F d, Y" }}</td>
                                    <td>{{ order.status }}</td>
                                    <td>
                                        <!-- ... other fields ... -->
                                        {% if order.coupon %}
                                            <!-- Display price_value if a coupon is applied -->
                                            <td>₹{{ order.order_value }}</td>
                                        {% else %}
                                            <!-- Display grand_total if no coupon is applied -->
                                            <td>₹{{ order.order_total }}</td>
                                        {% endif %}
                                    </td>
                                    <td>
                                        {% if order.status == 'pending' %}
                                            <a href="{% url 'cancel_order' order.id %}" class="btn btn-sm btn-danger">Cancel</a>
                                        {% elif order.status == 'Delivered' %}
                                            <a href="{% url 'return_order' order.id %}" class="btn btn-sm btn-warning">Return</a>
                                        {% else %}
                                            <!-- Add any other conditions or buttons related to order status -->
                                        {% endif %}
                                    </td>
                                    <td>
                                        <!-- Add any additional details or buttons related to the order view -->
                                        <a href="{% url 'view_order' order.id %}" class="btn btn-sm btn-info">Details</a>
                                    </td>
                                </tr>
                            {% endfor %}
                            
                        </tbody>
                    </table>
                </div>
                </div>
            </div>
        </div>
    </div>

    <div class="tab-pane fade" id="track-orders" role="tabpanel" aria-labelledby="track-orders-tab">
        <div class="card">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0">Orders tracking</h5>
            </div>
            <div class="card-body contact-from-area">
                <p>To track your order, please enter your Order ID in the box below and press "Track" button. This was given to you on your receipt and in the confirmation email you should have received.</p>
                <div class="row">
                    <div class="col-lg-8">
                        <form class="contact-form-style mt-4">
                            <div class="mb-3">
                                <label for="order-id" class="form-label">Order ID</label>
                                <input name="order-id" id="order-id" placeholder="Found in your order confirmation email" type="text" class="form-control">
                            </div>
                            <div class="mb-3">
                                <label for="billing-email" class="form-label">Billing email</label>
                                <input name="billing-email" id="billing-email" placeholder="Email you used during checkout" type="email" class="form-control">
                            </div>
                            <button class="btn btn-success" type="submit">Track</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Add Bootstrap JS and Popper.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-VGWWaDCaRygWs2pfH1F5ZGJIP4IVQ1RbOV2l4GzXJQ8v8/4SgUHE6mMA2xiqE6qD" crossorigin="anonymous"></script>

</body>
</html>

{% endblock content %}
