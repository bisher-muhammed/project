<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTP Verification</title>

    <!-- Add Bootstrap CSS link -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- Add any additional styling or link to a CSS file if needed -->
</head>
<style>
/* Your existing styles here */

.otp-input {
    width: 30px;  /* Adjust the width as needed */
    height: 30px; /* Adjust the height as needed */
    font-size: 1rem;
    text-align: center;
    border: 1px solid #ddd;
    border-radius: 6px;
    margin: 0 5px;
}

.timer {
    font-size: 18px;
    margin-top: 10px;
}

.resend-otp-btn {
    font-size: 14px;
}
</style>
<body>
    <div class="container mt-5">
      <form method="post" action="{% url 'otp_verification' %}" class="mb-4" id="otpForm">
        {% csrf_token %}
        <div class="mb-3">
            <label for="otp" class="form-label">Enter OTP:</label>
            <input type="text" class="otp-input" id="otp1" name="otp1" maxlength="1" required>
            <input type="text" class="otp-input" id="otp2" name="otp2" maxlength="1" required>
            <input type="text" class="otp-input" id="otp3" name="otp3" maxlength="1" required>
            <input type="text" class="otp-input" id="otp4" name="otp4" maxlength="1" required>

        </div>
        <button type="submit" class="btn btn-primary">Verify OTP</button>
    </form>

        <div class="timer" id="timer"></div>

        <p class="mb-4">Didn't receive the OTP? <a href="{% url 'resend_otp' %}" class="btn btn-link resend-otp-btn">Resend OTP</a></p>
    </div>

    <script>
        var countDownDate = new Date().getTime() + 60000; // Set the expiration time for the OTP (60 seconds)

        var x = setInterval(function() {
            var now = new Date().getTime();
            var distance = countDownDate - now;

            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("timer").innerHTML = "OTP will expire in: " + minutes + "m " + seconds + "s ";

            if (distance < 0) {
                clearInterval(x);
                document.getElementById("timer").innerHTML = "OTP Expired";
            }
        }, 1000);
    </script>
</body>
</html>
